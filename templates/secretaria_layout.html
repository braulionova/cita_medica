<!-- templates/admin_layout.html -->
<!DOCTYPE html>
<html lang="es">
<head>
   <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- El tÃ­tulo se podrÃ¡ cambiar desde cada pÃ¡gina hija -->
  <title>{% block title %}Panel de secretaria{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div class="flex min-h-screen">
    <!-- INICIO: MENÃš LATERAL (AHORA DINÃMICO) -->
    <aside class="w-64 bg-gray-800 text-white p-4 flex-shrink-0 flex flex-col">
      <h2 class="text-xl font-bold mb-6 text-center">MenÃº</h2>
      <nav class="flex-grow">
        <ul>
          <li class="mb-2">
            <!-- El enlace al panel principal ahora depende del rol -->
            <a href="{% if session.get('role') == 'admin' %}{{ url_for('admin') }}{% else %}{{ url_for('secretaria_dashboard') }}{% endif %}" class="block p-2 rounded hover:bg-gray-700 transition">ğŸ“‹ Panel Principal</a>
          </li>
          <li class="mb-2">
            <a href="{{ url_for('secretaria_bloquear_fecha') }}" class="block p-2 rounded hover:bg-gray-700 transition">ğŸš« Bloquear Fecha</a>
          </li>
          <li class="mb-2">
            <a href="{{ url_for('registrar_cita_secretaria') }}" class="block p-2 rounded hover:bg-gray-700 transition">â• Nueva Cita Paciente</a>
          </li>
          <li class="mb-2">
            <a href="{{ url_for('secretaria_registrar_pago') }}" class="block p-2 rounded hover:bg-gray-700 transition">ğŸ’° Registrar Pagos</a>
          </li>
          <!-- === SECCIÃ“N SOLO PARA ADMINISTRADORES === -->
          {% if session.get('role') == 'admin' %}
          <li class="mt-4 pt-4 border-t border-gray-600 mb-2">
            <a href="{{ url_for('configuracion') }}" class="block p-2 rounded hover:bg-gray-700 transition">âš™ï¸ ConfiguraciÃ³n</a>
          </li>
          <li class="mb-2">
            <a href="{{ url_for('gestion_usuarios') }}" class="block p-2 rounded hover:bg-gray-700 transition">ğŸ‘¥ Gestionar Usuarios</a>
          </li>
          {% endif %}
          <!-- === FIN DE SECCIÃ“N SOLO PARA ADMINISTRADORES === -->
        </ul>
      </nav>
      <div class="mt-auto pt-4 border-t border-gray-700">
         <a href="{{ url_for('logout') }}" class="block p-2 rounded bg-red-600 text-center hover:bg-red-700 transition">ğŸšª Cerrar SesiÃ³n</a>
      </div>
    </aside>
    <!-- FIN: MENÃš LATERAL -->

    <!-- INICIO: CONTENIDO PRINCIPAL -->
    <main class="flex-1 p-6">
      <!-- AquÃ­ se insertarÃ¡ el contenido de cada pÃ¡gina -->
      {% block content %}{% endblock %}
    </main>
    <!-- FIN: CONTENIDO PRINCIPAL -->
  </div>
</body>
</html>